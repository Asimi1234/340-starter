<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title><%= title %> | CSE Motors</title>
  <link rel="stylesheet" href="/css/styles.css">
</head>
<body>


  <main id="add-classification">


    <div class="form-container">
      <p class="notice">Classification names cannot contain spaces or special characters.</p>
      
      <form id="addClassificationForm" action="/inv/add-classification" method="post">
        <label for="classification_name">Classification Name:</label>
        <input 
          type="text" 
          id="classification_name" 
          name="classification_name" 
          required
          pattern="[A-Za-z0-9]+"
          title="Classification name must contain only letters and numbers, no spaces or special characters"
          placeholder="Enter classification name"
          value="<%= locals.classification_name || '' %>"
        >
        <span class="error-message" id="nameError"></span>
        
        <button type="submit" class="submit-btn">Add Classification</button>
      </form>
    </div>
  </main>
  
  <script>
    // Client-side validation
    const form = document.getElementById('addClassificationForm');
    const nameInput = document.getElementById('classification_name');
    const errorSpan = document.getElementById('nameError');

    form.addEventListener('submit', function(event) {
      const value = nameInput.value.trim();
      const pattern = /^[A-Za-z0-9]+$/;
      
      if (!pattern.test(value)) {
        event.preventDefault();
        errorSpan.textContent = 'Classification name must contain only letters and numbers (no spaces or special characters).';
        nameInput.focus();
      } else {
        errorSpan.textContent = '';
      }
    });

    // Clear error on input
    nameInput.addEventListener('input', function() {
      errorSpan.textContent = '';
    });
  </script>
</body>
</html>