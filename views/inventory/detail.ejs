<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title><%= title %></title>
  <link rel="stylesheet" href="/css/styles.css">
</head>
<body>
  <%- include('../partials/header') %>

  <main class="detail-container" id="main">
    <div class="detail-grid" role="region" aria-labelledby="vehicle-heading">
      <div class="vehicle-image" aria-hidden="false">
        <% if (vehicle.image_full) { %>
          <img src="<%= vehicle.image_full %>" alt="<%= vehicle.inv_make %> <%= vehicle.inv_model %> full image">
        <% } else { %>
          <img src="/images/no-image-available.png" alt="No image available">
        <% } %>
      </div>

      <div class="vehicle-info">
        <h1 id="vehicle-heading" class="vehicle-title">
          <%= vehicle.inv_make %> <%= vehicle.inv_model %> (<%= vehicle.inv_year %>)
        </h1>

        <div class="vehicle-price" aria-live="polite">
          <%= utilities.formatCurrencyUSD(vehicle.inv_price) %>
        </div>

        <ul class="vehicle-specs" aria-label="Vehicle specifications">
          <li><strong>Mileage:</strong> <%= utilities.formatNumberWithCommas(vehicle.inv_miles) %> miles</li>
          <% if (vehicle.inv_color) { %><li><strong>Color:</strong> <%= vehicle.inv_color %></li><% } %>
          <% if (vehicle.inv_transmission) { %><li><strong>Transmission:</strong> <%= vehicle.inv_transmission %></li><% } %>
          <% if (vehicle.inv_fueltype) { %><li><strong>Fuel type:</strong> <%= vehicle.inv_fueltype %></li><% } %>
        </ul>

        <section class="vehicle-description" aria-label="Vehicle description">
          <h2>Overview</h2>
          <p><%= vehicle.inv_description || 'No description available.' %></p>
        </section>

        <!-- Optional extra HTML from utilities -->
        <div class="vehicle-extra">
          <%- detailView %>
        </div>
      </div>
    </div>
  </main>
</body>
</html>
